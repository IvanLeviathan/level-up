(this.webpackJsonpreact1=this.webpackJsonpreact1||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(16),r=c.n(s),i=(c(30),c(8)),l=(c(31),c(0)),o=function(){return Object(l.jsx)("header",{className:"bg-dark text-light",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("p",{children:"ToDo App alpha alpha version"})}),Object(l.jsx)("div",{className:"col-12",children:Object(l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(l.jsxs)("div",{className:"navbar-nav",children:[Object(l.jsx)(i.c,{className:"nav-item nav-link",activeClassName:"active",to:"/user",children:"User"}),Object(l.jsx)(i.c,{className:"nav-item nav-link",activeClassName:"active",to:"/settings",children:"Settings"}),Object(l.jsx)(i.c,{className:"nav-item nav-link",activeClassName:"active",to:"/todos",children:"Todos"})]})})})]})})})},d=c(3),j=c(13),b=c(9),u=c(11),h=c(4),O="react-tasks",m={task:localStorage.getItem(O)?JSON.parse(localStorage.getItem(O)):[]},x="ADD_TASK",v="DEL_TASK",g="CHECK_TASK",p="DELETE_ALL_TASKS",f=function(e){return{type:v,payload:e}},k=function(e){localStorage.setItem(O,JSON.stringify(e))},N=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case x:return e=Object(h.a)(Object(h.a)({},t),{},{task:[].concat(Object(u.a)(t.task),[c.payload])}),k(e.task),e;case v:return e=Object(h.a)(Object(h.a)({},t),{},{task:t.task.filter((function(e){return e.id!==c.payload&&e}))}),k(e.task),e;case g:return e=Object(h.a)(Object(h.a)({},t),{},{task:t.task.map((function(e){return e.id===c.id&&(e.checked=c.checked),e}))}),k(e.task),e;case p:return e=Object(h.a)(Object(h.a)({},t),{},{task:[]}),k(e.task),e;default:return t}},y=(c(24),function(e){var t=e.title,c=void 0===t?"\u0443\u0434\u0430\u043b\u0438\u0442\u044c":t,a=e.clickHandle;return Object(l.jsx)("button",{className:"btn btn-danger",title:c,onClick:a,children:Object(l.jsx)("i",{className:"bi bi-trash"})})}),C=function(e){return Object(l.jsxs)("div",{className:"form-check",children:[Object(l.jsx)("input",{className:"form-check-input",type:"checkbox",checked:e.checked?"checked":"",value:"checked",id:e.id,onChange:e.onchangeHandler}),Object(l.jsx)("label",{className:"form-check-label",htmlFor:e.id,children:e.label})]})},D=function(e){var t=e.clickHandle,c=e.className,a=e.disabled,n=void 0===a?"":a,s=e.name;return Object(l.jsx)("button",{onClick:t,className:c,disabled:n,type:"button",children:s})};function w(e){var t=e.placeholder,c=void 0===t?"":t,a=e.value,n=void 0===a?"":a,s=e.onChange,r=void 0===s?function(e){}:s;return Object(l.jsx)("input",{className:"form-control",type:"text",placeholder:c,value:n,onChange:function(e){return r(e)}})}function S(e){var t=e.inputValue,c=void 0===t?"":t,n=e.onChangeInput,s=e.onAdd,r=e.todos,o=e.onCheck,d=e.onDel,j=e.todoID,b=e.onDelAllTasks,u=(e.actionModalDelete,Object(a.useRef)());return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12 mt-2",children:Object(l.jsx)(D,{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",clickHandle:b,className:r.task.length?"btn btn-info":"btn btn-info disabled",disabled:r.task.length?"":"disabled"})})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsxs)("div",{className:"input-group mb-3 mt-3",children:[Object(l.jsx)(w,{placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",value:c,onChange:n}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)(D,{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",clickHandle:function(){return s(u)},className:c.length?"btn btn-info":"btn btn-info disabled",disabled:c.length?"":"disabled"})})]}),Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("div",{className:"card-header",children:"\u0417\u0430\u0434\u0430\u0447\u0438"}),Object(l.jsx)("ul",{className:"list-group list-group-flush",children:r.task.length?r.task.map((function(e){var t="list-group-item",c="text-dark";return e.checked&&(t="list-group-item bg-info text-light",c="text-white"),e.id===j&&(t="list-group-item bg-warning text-dark",c="text-dark"),Object(l.jsx)("li",{className:t,children:Object(l.jsxs)("div",{className:"row align-items-center",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)(i.b,{to:"/todos/"+e.id,className:c,children:e.title})}),Object(l.jsx)("div",{className:"col-4",children:Object(l.jsx)(C,{checked:e.checked,id:"checkbox"+e.id,onchangeHandler:function(t){return o(t,e.id)},label:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e"})}),Object(l.jsx)("div",{className:"col-2 text-center",children:Object(l.jsx)(y,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",clickHandle:function(){return d(e.id,e.title)}})})]})},e.id)})):Object(l.jsx)("li",{className:"list-group-item",children:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442"})})]})]})})]})}var I="react-categories",T={category:localStorage.getItem(I)?JSON.parse(localStorage.getItem(I)):[]},A="ADD_CAT",L="DEL_CAT",H="CHECK_CAT",E="DELETE_ALL_CATEGORIES",_=function(e){return{type:L,payload:e}},M=function(e){localStorage.setItem(I,JSON.stringify(e))},P=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(c.type){case A:return e=Object(h.a)(Object(h.a)({},t),{},{category:[].concat(Object(u.a)(t.category),[c.payload])}),M(e.category),e;case L:return e=Object(h.a)(Object(h.a)({},t),{},{category:t.category.filter((function(e){return e.id!==c.payload&&e}))}),M(e.category),e;case H:return e=Object(h.a)(Object(h.a)({},t),{},{category:t.category.map((function(e){return e.id===c.id&&(e.checked=c.checked),e}))}),M(e.category),e;case E:return e=Object(h.a)(Object(h.a)({},t),{},{category:[]}),M(e.category),e;default:return t}},R=Object(a.createContext)(),F=[],J="SHOW_MODAL",K="HIDE_MODAL",U=function(e){return{type:J,payload:e}},V=function(){return{type:K}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return[].concat(Object(u.a)(e),[t.payload]);case K:return e.splice(-1,1),Object(u.a)(e);default:return e}};function W(){var e=Object(b.c)((function(e){return e.task})),t=Object(b.b)(),c=Object(a.useContext)(R).todoID,n=Object(a.useState)(""),s=Object(j.a)(n,2),r=s[0],i=s[1];return Object(l.jsx)(S,{inputValue:r,onChangeInput:function(e){i(e.target.value)},onAdd:function(e){var c={title:r,id:Date.now(),checked:!1};t({type:x,payload:c}),i("")},todos:e,onCheck:function(e,c){t(function(e,t){return{type:g,checked:e,id:t}}(e.target.checked,c))},onDel:function(e,c){t(U({name:"ModalDelete",id:e,modalText:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c <b>".concat(c,"</b>?"),deleteFunc:f}))},todoID:c,onDelAllTasks:function(){t({type:p}),t({type:E})}})}function G(e){var t=e.percent,c=void 0===t?0:t,a=e.maxPercent,n=void 0===a?100:a;return Object(l.jsx)("div",{className:"progress",children:Object(l.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated bg-info",role:"progressbar",style:{width:c+"%"},"aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":n})})}function q(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(d.g)(),r=new URL(window.location.href),i=new URLSearchParams(window.location.search);return Object(l.jsx)(w,{placeholder:"\u041f\u043e\u0438\u0441\u043a...",value:c||(i.get("search")?i.get("search"):""),onChange:function(e){var t=r.searchParams.set("search","".concat(e.target.value));s.replace(r.search.replace(t)),n(e.target.value)}})}function z(e){var t=e.inputValue,c=void 0===t?"":t,n=e.onChangeInput,s=e.onAdd,r=e.categories,i=e.onCheck,o=e.onDel,d=e.taskPercents,j=Object(a.useRef)();return Object(l.jsx)("div",{className:"container mt-5",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsxs)("div",{className:"input-group mb-3 mt-3",children:[Object(l.jsx)(w,{placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",value:c,onChange:n}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)(D,{name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",clickHandle:function(){return s(j)},className:c.length?"btn btn-info":"btn btn-info disabled",disabled:c.length?"":"disabled"})})]}),Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)(G,{percent:d})}),Object(l.jsxs)("div",{className:"card",children:[Object(l.jsxs)("div",{className:"card-header",children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",Object(l.jsx)("div",{className:"mt-3",children:Object(l.jsx)(q,{})})]}),Object(l.jsx)("ul",{className:"list-group list-group-flush",children:r.category.length?r.category.map((function(e){return Object(l.jsx)("li",{className:e.checked?"list-group-item bg-info text-light":"list-group-item",children:Object(l.jsxs)("div",{className:"row align-items-center",children:[Object(l.jsx)("div",{className:"col-6",children:e.title}),Object(l.jsx)("div",{className:"col-4",children:Object(l.jsx)(C,{checked:e.checked,id:"checkbox"+e.id,onchangeHandler:function(t){return i(t,e.id)},label:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e"})}),Object(l.jsx)("div",{className:"col-2 text-center",children:Object(l.jsx)(y,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",clickHandle:function(){return o(e.id,e.title)}})})]})},e.id)})):Object(l.jsx)("li",{className:"list-group-item",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435\u0442"})})]})]})})})}function Q(){var e=Object(b.c)((function(e){return e.category})),t=Object(a.useContext)(R).todoID,c=Object(b.b)(),n=Object(a.useState)(""),s=Object(j.a)(n,2),r=s[0],i=s[1],o=Object(d.h)(),u=new URLSearchParams(o.search).get("search"),h=Object(a.useMemo)((function(){var c=e.category.filter((function(e){return e.todoID===t})),a=100*c.filter((function(e){return e.checked})).length/c.length;return a||0}),[e,t]),O=Object(a.useCallback)((function(){return function(e,t,c){return c&&(e=e.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())}))),e.filter((function(e){return e.todoID===t}))}(e.category,t,u)}),[e,t,u]);return Object(l.jsx)(z,{inputValue:r,onChangeInput:function(e){i(e.target.value)},onAdd:function(e){var a={title:r,id:Date.now(),checked:!1,todoID:t};c({type:A,payload:a}),i("")},categories:{category:O()},onCheck:function(e,t){c(function(e,t){return{type:H,checked:e,id:t}}(e.target.checked,t))},onDel:function(e,t){c(U({name:"ModalDelete",id:e,modalText:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c <b>".concat(t,"</b>?"),deleteFunc:_}))},taskPercents:h})}var X=function(){var e=Object(d.i)("/todos/:id"),t=e&&e.params.id?+e.params.id:0;return Object(l.jsx)(R.Provider,{value:{todoID:t},children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:e?"col-6":"col-12",children:Object(l.jsx)(W,{})}),e?Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)(Q,{})}):null]})})})},Y=function(){return Object(l.jsx)("div",{children:"Settings"})},Z=function(){return Object(l.jsx)("div",{children:"User"})},$=function(){return Object(l.jsxs)(d.d,{children:[Object(l.jsx)(d.b,{path:"/user",component:Z}),Object(l.jsx)(d.b,{path:"/settings",component:Y}),Object(l.jsx)(d.b,{path:"/todos",component:X}),Object(l.jsx)(d.a,{to:"/"})]})};c(38);c(39);var ee={ModalDelete:function(e){var t=Object(b.b)(),c=function(){t(V())};return Object(l.jsx)("div",{className:"modal fade show",style:{opacity:1,display:"block"},tabIndex:"-1",role:"dialog",children:Object(l.jsx)("div",{className:"modal-dialog",role:"document",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsxs)("div",{className:"modal-header",children:[Object(l.jsx)("h5",{className:"modal-title",children:e.modalTitle?e.modalTitle:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),Object(l.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:c,children:Object(l.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(l.jsx)("div",{className:"modal-body",children:Object(l.jsx)("p",{dangerouslySetInnerHTML:{__html:e.modalText?e.modalText:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442?"}})}),Object(l.jsxs)("div",{className:"modal-footer",children:[Object(l.jsx)(D,{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",clickHandle:function(){t(V()),t(e.deleteFunc(e.id))},className:"btn btn-danger",disabled:""}),Object(l.jsx)(D,{name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",clickHandle:c,className:"btn btn-secondary",disabled:""})]})]})})})}};function te(){var e=Object(b.c)((function(e){return e.modalsReducer}));return e.length?e.map((function(e){var t=ee[e.name];return Object(a.createElement)(t,Object(h.a)(Object(h.a)({},e),{},{key:e.name}))})):null}var ce=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(o,{}),Object(l.jsx)($,{}),Object(l.jsx)(te,{})]})},ae=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))},ne=c(19),se=c(25),re=Object(ne.combineReducers)({task:N,category:P,modalsReducer:B}),ie=Object(ne.createStore)(re,Object(se.composeWithDevTools)());r.a.render(Object(l.jsx)(b.a,{store:ie,children:Object(l.jsx)(i.a,{children:Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(ce,{})})})}),document.getElementById("root")),ae()}},[[40,1,2]]]);
//# sourceMappingURL=main.dd60ee26.chunk.js.map